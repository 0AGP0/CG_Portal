(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7351],{4038:(e,a,s)=>{Promise.resolve().then(s.bind(s,4253))},4253:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var i=s(5155),t=s(2115),r=s(2835),l=s(6874),n=s.n(l),d=s(4820),u=s(9576);let c=e=>{let{children:a,panelName:s}=e,{user:t,startProcess:r}=(0,u.A)();return t?t.processStarted?(0,i.jsx)(i.Fragment,{children:a}):(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"filter blur-sm pointer-events-none",children:a}),(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-40 rounded-lg",children:(0,i.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-xl max-w-md",children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-[#002757] mb-4",children:[s," Paneline Erişin"]}),(0,i.jsx)("p",{className:"mb-6 text-gray-600",children:"Bu paneli g\xf6r\xfcnt\xfclemek i\xe7in \xf6nce başvuru s\xfcrecinizi başlatmanız gerekiyor. S\xfcreci başlattığınızda danışmanınız size en kısa s\xfcrede yardımcı olacaktır."}),(0,i.jsxs)("button",{onClick:r,className:"px-6 py-3 bg-[#ff9900] text-white rounded-lg hover:bg-[#e68a00] transition-colors font-medium flex items-center gap-2 mx-auto",children:[(0,i.jsx)("span",{children:"S\xfcreci Başlat"}),(0,i.jsx)("span",{className:"text-lg",children:"\uD83D\uDE80"})]})]})})]}):(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center p-8 bg-red-50 rounded-lg border border-red-200",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Erişim Reddedildi"}),(0,i.jsx)("p",{className:"mb-4",children:"Bu sayfaya erişmek i\xe7in giriş yapmalısınız."}),(0,i.jsx)(n(),{href:"/login",className:"btn-primary",children:"Giriş Sayfasına D\xf6n"})]})})},m={"Hazırlık Aşaması":{description:"Bu aşamada başvuru i\xe7in gerekli belgelerinizi hazırlamanız gerekiyor. Aşağıdaki belgeleri y\xfcklemeniz gerekecek:",documents:["Lise diploması","Transkript","Pasaport","CV","Motivasyon mektubu"]},"\xc7eviri Hazır":{description:"Belgeleriniz \xe7eviri i\xe7in hazırlanıyor. Bu s\xfcre\xe7te herhangi bir belge y\xfcklemenize gerek yok."},"\xdcniversite Başvurusu Yapıldı":{description:"\xdcniversite başvurularınız yapılıyor. Başvuru sonu\xe7larını beklerken herhangi bir belge y\xfcklemenize gerek yok."},"Kabul Geldi":{description:"\xdcniversiteden kabul mektubunuz geldi. Vize başvurusu i\xe7in hazırlıklara başlayacağız."},"Vize Başvuru Aşaması":{description:"Vize başvurusu i\xe7in gerekli belgeleri hazırlamanız gerekiyor. Aşağıdaki belgeleri y\xfcklemeniz gerekecek:",documents:["Kabul mektubu","Finansal belgeler","Sağlık sigortası","Konaklama belgesi"]},"S\xfcre\xe7 Aşaması":{description:"Vize başvuru s\xfcreciniz devam ediyor. Konsolosluk randevusu i\xe7in hazırlık yapılıyor."},"Vize Randevusu Atandı":{description:"Vize randevunuz atandı. Randevu tarihinize kadar gerekli belgelerinizi hazır tutun."},"Vize Bekleme Aşaması":{description:"Vize başvurunuz yapıldı. Konsolosluktan sonu\xe7 bekleniyor."},"Almanya Aşaması":{description:"Vizeniz onaylandı. Almanya'ya gidiş planlaması yapılıyor."},"S\xfcre\xe7 Tamamlandı":{description:"Tebrikler! T\xfcm s\xfcre\xe7 başarıyla tamamlandı."}};function o(){var e,a,s,l;let{user:o}=(0,u.A)(),[g,p]=(0,t.useState)(null),[x,b]=(0,t.useState)(!0),[k,v]=(0,t.useState)(1),[h,y]=(0,t.useState)("Hazırlık Aşaması");(0,t.useEffect)(()=>{(async()=>{b(!0);try{if(o){let a=await fetch("/api/student/profile",{headers:{"x-user-email":o.email}});if(a.ok){var e;let s=await a.json();p(s.student);let i={"Hazırlık Aşaması":1,"\xc7eviri Hazır":2,"\xdcniversite Başvurusu Yapıldı":3,"Kabul Geldi":4,"Vize Başvuru Aşaması":5,"S\xfcre\xe7 Aşaması":6,"Vize Randevusu Atandı":7,"Vize Bekleme Aşaması":8,"Almanya Aşaması":9,"S\xfcre\xe7 Tamamlandı":10},t=null==(e=s.student)?void 0:e.stage,r="Hazırlık Aşaması";"Ceviri Hazir"===t?r="\xc7eviri Hazır":"\xdcniversite Başvurusu Yapılanlar"===t?r="\xdcniversite Başvurusu Yapıldı":"Kabul Gelenler"===t?r="Kabul Geldi":"Vize Randevusu Atananlar"===t?r="Vize Randevusu Atandı":"BİTEN"===t?r="S\xfcre\xe7 Tamamlandı":t in i&&(r=t),y(r);let l=i[r]||1;v(l),console.log("\xd6ğrenci Aşama Bilgisi:",{originalStage:t,normalizedStage:r,stageNumber:l,studentData:s.student,stageDescription:m[r]})}}}catch(e){console.error("\xd6ğrenci verisi \xe7ekme hatası:",e)}finally{b(!1)}})()},[o]);let z=t.useMemo(()=>{let e=[{id:1,name:"Hazırlık Aşaması",status:"pending",date:"Başlangı\xe7",description:"Başvuru s\xfcrecinizin hazırlık aşaması başladı.",icon:"\uD83D\uDCDD"},{id:2,name:"\xc7eviri Hazır",status:"pending",date:"Bekliyor",description:"Belgelerinizin \xe7evirileri yapılacak.",icon:"\uD83D\uDCC4"},{id:3,name:"\xdcniversite Başvurusu Yapıldı",status:"pending",date:"Bekliyor",description:"\xdcniversite başvurularınız yapılacak.",icon:"\uD83C\uDFDB️"},{id:4,name:"Kabul Geldi",status:"pending",date:"Bekliyor",description:"\xdcniversiteden kabul mektubu bekleniyor.",icon:"\uD83D\uDCE8"},{id:5,name:"Vize Başvuru Aşaması",status:"pending",date:"Bekliyor",description:"Vize başvurusu i\xe7in hazırlık yapılacak.",icon:"\uD83D\uDCCB"},{id:6,name:"S\xfcre\xe7 Aşaması",status:"pending",date:"Bekliyor",description:"Vize s\xfcreciniz devam edecek.",icon:"⏳"},{id:7,name:"Vize Randevusu Atandı",status:"pending",date:"Bekliyor",description:"Vize randevunuz konsolosluktan alınacak.",icon:"\uD83D\uDDD3️"},{id:8,name:"Vize Bekleme Aşaması",status:"pending",date:"Bekliyor",description:"Vize başvurunuz yapılacak, sonu\xe7 bekleniyor.",icon:"⌛"},{id:9,name:"Almanya Aşaması",status:"pending",date:"Bekliyor",description:"Almanya'ya gidiş planlaması yapılacak.",icon:"✈️"},{id:10,name:"S\xfcre\xe7 Tamamlandı",status:"pending",date:"Bekliyor",description:"S\xfcre\xe7 tamamlanacak.",icon:"\uD83C\uDF93"}];if(!g||!g.stage)return{currentStage:1,totalStages:10,startDate:"Başlangı\xe7",estimatedCompletionDate:"Tahmin edilemiyor",progress:0,stages:e};let a=[...e],s=g.stage,i=s;"Ceviri Hazir"===s&&(i="\xc7eviri Hazır"),"\xdcniversite Başvurusu Yapılanlar"===s&&(i="\xdcniversite Başvurusu Yapıldı"),"Kabul Gelenler"===s&&(i="Kabul Geldi"),"Vize Randevusu Atananlar"===s&&(i="Vize Randevusu Atandı"),"BİTEN"===s&&(i="S\xfcre\xe7 Tamamlandı");let t={"Hazırlık Aşaması":1,"\xc7eviri Hazır":2,"\xdcniversite Başvurusu Yapıldı":3,"Kabul Geldi":4,"Vize Başvuru Aşaması":5,"S\xfcre\xe7 Aşaması":6,"Vize Randevusu Atandı":7,"Vize Bekleme Aşaması":8,"Almanya Aşaması":9,"S\xfcre\xe7 Tamamlandı":10}[i]||1,r=t,l=Math.round(t/10*100);if(console.log("S\xfcre\xe7 Durumu Hesaplama:",{originalStage:s,normalizedStage:i,currentStageNumber:t,progress:l}),"S\xfcre\xe7 Tamamlandı"===i)r=10,l=100,a.forEach((e,s)=>{a[s].status="completed",9===s&&(a[s].date=g.updated_at||"Tamamlandı",a[s].description="S\xfcreciniz başarıyla tamamlandı. Tebrikler!")});else{for(let e=0;e<t-1;e++)e<a.length&&(a[e].status="completed",a[e].date="Tamamlandı");t-1<a.length&&(a[t-1].status="in-progress",a[t-1].date="Devam Ediyor",7===t&&g.visa_appointment_date&&(a[6].date="Randevu: ".concat(g.visa_appointment_date),a[6].description="Vize randevunuz ".concat(g.visa_appointment_date," tarihine alındı. ").concat(g.visa_consulate?g.visa_consulate+" konsolosluğunda":"Konsoloslukta"," olacak.")))}return{currentStage:r,totalStages:10,startDate:g.created_at||"Başlangı\xe7",estimatedCompletionDate:"Tahmin edilemiyor",progress:l,stages:a}},[g]);return x?(0,i.jsx)(d.A,{children:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,i.jsxs)("div",{className:"relative w-16 h-16",children:[(0,i.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 rounded-full border-4 border-primary-200 opacity-40"}),(0,i.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 rounded-full border-4 border-t-primary-600 animate-spin"})]}),(0,i.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Y\xfckleniyor..."})]})}):(0,i.jsx)(d.A,{children:(0,i.jsx)(c,{panelName:"S\xfcre\xe7 Takip",children:(0,i.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-[#002757]",children:"S\xfcre\xe7 Takibi"}),(0,i.jsx)("p",{className:"text-default mt-2",children:"Başvuru s\xfcrecinizin t\xfcm aşamalarını buradan takip edebilirsiniz."})]}),(null==g||null==(e=g.systemDetails)?void 0:e.isUpdated)&&(0,i.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-success-50 dark:bg-success-900/20 border border-success-200 dark:border-success-800/30  rounded-lg p-4 shadow-sm mb-6 flex items-start",children:[(0,i.jsx)("div",{className:"rounded-full bg-success-100 dark:bg-success-800/50 p-2 mr-3 text-success-700 dark:text-success-300",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-success-900 dark:text-success-200",children:"Otomatik G\xfcncellenme"}),(0,i.jsxs)("p",{className:"text-success-800 dark:text-success-300 mt-1",children:["Başvuru s\xfcreciniz ",(0,i.jsx)("span",{className:"font-bold",children:g.systemDetails.stage})," durumuna g\xfcncellendi.",g.systemDetails.lastUpdateTime&&(0,i.jsxs)("span",{className:"block text-sm mt-1",children:["G\xfcncelleme tarihi: ",g.systemDetails.lastUpdateTime]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-6 rounded-lg shadow-sm border border-gray-100/60 dark:border-gray-700/30 mb-8",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-[#002757] mb-4",children:"Genel S\xfcre\xe7 Durumu"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute left-7 top-0 bottom-0 w-1 bg-gray-200 dark:bg-gray-600 z-0"}),(0,i.jsx)("div",{className:"space-y-8 relative z-10",children:z.stages.map(e=>(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center flex-shrink-0 z-10 ".concat("completed"===e.status?"bg-green-500 text-white":"in-progress"===e.status?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"),children:"completed"===e.status?(0,i.jsx)("span",{className:"text-xl",children:"✓"}):(0,i.jsx)("span",{className:"text-sm font-medium",children:e.id})}),(0,i.jsx)("div",{className:"ml-4 flex-1",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold ".concat("completed"===e.status?"text-green-700 dark:text-green-400":"in-progress"===e.status?"text-blue-700 dark:text-blue-400":"text-gray-500 dark:text-gray-400"),children:e.name}),(0,i.jsx)("p",{className:"text-default mt-1",children:e.description})]}),(0,i.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("completed"===e.status?"bg-green-100/80 dark:bg-green-900/30 text-green-800 dark:text-green-300":"in-progress"===e.status?"bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-gray-100/80 dark:bg-gray-700/50 text-gray-600 dark:text-gray-300"),children:e.date})]})})]},e.id))})]})]}),(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mt-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Yapılacaklar"}),(null==g?void 0:g.stage)&&(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:(0,i.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:(null==(a=m[h])?void 0:a.description)||"Bu aşamada yapmanız gereken işlemler bulunmuyor."})}),("Hazırlık Aşaması"===h||"Vize Başvuru Aşaması"===h)&&(null==(s=m[h])?void 0:s.documents)&&(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Y\xfcklemeniz Gereken Belgeler:"}),(0,i.jsx)("ul",{className:"list-disc list-inside space-y-1",children:null==(l=m[h].documents)?void 0:l.map((e,a)=>(0,i.jsx)("li",{className:"text-sm text-gray-600 dark:text-gray-400",children:e},a))}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(n(),{href:"/dashboard/documents",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Belgeleri Y\xfckle"})})]})]})]})]})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8407,5674,4264,9042,7244,5573,4820,4288,7706,7544,1142,2993,1561,6867,5495,7358],()=>a(4038)),_N_E=e.O()}]);