(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4938],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>s});var r=a(5155);function s(e){let{className:t="",children:a,variant:s="default",size:n="default",onClick:i,disabled:l=!1,type:d="button",...c}=e;return(0,r.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({default:"bg-primary text-white hover:bg-primary/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[s]," ").concat({default:"h-10 py-2 px-4",sm:"h-9 px-3 text-sm",lg:"h-11 px-8"}[n]," ").concat(t),onClick:i,disabled:l,type:d,...c,children:a})}a(2115)},596:(e,t,a)=>{"use strict";function r(){return{toast:e=>{console.log("Toast:",e)}}}a.d(t,{d:()=>r}),a(2115)},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var r=a(5155);function s(e){let{className:t="",type:a="text",placeholder:s,value:n,onChange:i,id:l,...d}=e;return(0,r.jsx)("input",{type:a,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),placeholder:s,value:n,onChange:i,id:l,...d})}a(2115)},3725:(e,t,a)=>{Promise.resolve().then(a.bind(a,6644))},5057:(e,t,a)=>{"use strict";a.d(t,{J:()=>s});var r=a(5155);function s(e){let{className:t="",children:a,htmlFor:s,...n}=e;return(0,r.jsx)("label",{htmlFor:s,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ".concat(t),...n,children:a})}a(2115)},5127:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>i,Hj:()=>l,XI:()=>s,nA:()=>c,nd:()=>d});var r=a(5155);function s(e){let{className:t="",children:a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{className:"w-full caption-bottom text-sm ".concat(t),children:a})})}function n(e){let{className:t="",children:a}=e;return(0,r.jsx)("thead",{className:"border-b ".concat(t),children:a})}function i(e){let{className:t="",children:a}=e;return(0,r.jsx)("tbody",{className:"divide-y ".concat(t),children:a})}function l(e){let{className:t="",children:a}=e;return(0,r.jsx)("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted ".concat(t),children:a})}function d(e){let{className:t="",children:a}=e;return(0,r.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 ".concat(t),children:a})}function c(e){let{className:t="",children:a,colSpan:s}=e;return(0,r.jsx)("td",{className:"p-4 align-middle [&:has([role=checkbox])]:pr-0 ".concat(t),colSpan:s,children:a})}a(2115)},6644:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(5155),s=a(2115),n=a(2835),i=a(4820),l=a(2523),d=a(285),c=a(5127),o=a(596),m=a(5057);let x={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};function h(){let{toast:e}=(0,o.d)(),[t,a]=(0,s.useState)(""),[h,g]=(0,s.useState)(!0),[b,y]=(0,s.useState)([]),[v,f]=(0,s.useState)(!1),[p,k]=(0,s.useState)(!1),[j,N]=(0,s.useState)({name:"",email:"",phone:""}),w=(0,s.useCallback)(()=>{f(!1),N({name:"",email:"",phone:""}),k(!1)},[]),C=(0,s.useCallback)(()=>{f(!0)},[]);(0,s.useEffect)(()=>{(async()=>{g(!0);try{let e=await fetch("/api/admin/advisors");if(e.ok){let t=await e.json();y(t.advisors||[])}else y([{id:"1",name:"M\xfcge Hanım",email:"muge@campusglobal.com",phone:"533-111-0011",studentCount:8,activityRate:"92%"},{id:"2",name:"Murat Bey",email:"murat@campusglobal.com",phone:"544-222-0022",studentCount:12,activityRate:"88%"},{id:"3",name:"Canan Hanım",email:"canan@campusglobal.com",phone:"566-333-0033",studentCount:5,activityRate:"95%"}])}catch(t){console.error("Veri y\xfckleme hatası:",t),e({title:"Hata",description:"Veriler y\xfcklenirken bir sorun oluştu.",variant:"destructive"}),y([{id:"1",name:"M\xfcge Hanım",email:"muge@campusglobal.com",phone:"533-111-0011",studentCount:8,activityRate:"92%"},{id:"2",name:"Murat Bey",email:"murat@campusglobal.com",phone:"544-222-0022",studentCount:12,activityRate:"88%"}])}finally{g(!1)}})()},[]);let L=b.filter(e=>{var a,r;return((null==(a=e.name)?void 0:a.toLowerCase())||"").includes(t.toLowerCase())||((null==(r=e.email)?void 0:r.toLowerCase())||"").includes(t.toLowerCase())}),A=async()=>{if(!j.name||!j.email)return void e({title:"Eksik bilgi",description:"L\xfctfen ad ve e-posta alanlarını doldurun.",variant:"destructive"});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email))return void e({title:"Ge\xe7ersiz e-posta",description:"L\xfctfen ge\xe7erli bir e-posta adresi girin.",variant:"destructive"});k(!0);try{let a=await fetch("/api/admin/advisors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(a.ok){var t;let r={id:(null==(t=(await a.json()).advisor)?void 0:t.id)||"temp-".concat(Date.now()),...j,studentCount:0,activityRate:"0%"};y([...b,r]),N({name:"",email:"",phone:""}),f(!1),e({title:"Danışman oluşturuldu",description:"Yeni danışman başarıyla eklendi"})}else{let t=await a.json();e({title:"Hata",description:t.error||"Beklenmeyen bir hata oluştu",variant:"destructive"})}}catch(t){console.error("Danışman ekleme hatası:",t),e({title:"Hata",description:"Danışman eklenirken bir sorun oluştu.",variant:"destructive"}),y([...b,{id:Date.now().toString(),...j,studentCount:0,activityRate:"0%"}]),N({name:"",email:"",phone:""}),f(!1)}finally{k(!1)}};return(0,r.jsx)(i.A,{children:(0,r.jsxs)(n.P.div,{variants:u,initial:"hidden",animate:"visible",className:"space-y-8",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden mb-8",children:[(0,r.jsx)("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-accent-100/50 dark:bg-accent-900/20 rounded-full blur-2xl"}),(0,r.jsx)("div",{className:"absolute top-10 -left-10 w-40 h-40 bg-secondary-100/30 dark:bg-secondary-900/10 rounded-full blur-xl"}),(0,r.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative p-6 md:p-8 rounded-2xl bg-gradient-to-r from-white to-accent-50/70 dark:from-gray-800/80 dark:to-accent-900/20 border border-white/40 dark:border-gray-700/30 shadow-xl",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Danışman Y\xf6netimi"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"T\xfcm danışmanların bilgilerini buradan y\xf6netebilirsiniz."})]}),(0,r.jsxs)(d.$,{onClick:C,className:"px-4 py-2 bg-gradient-to-r from-accent-500 to-accent-600 hover:from-accent-600 hover:to-accent-700 text-white shadow-sm hover:shadow-md rounded-full text-sm font-medium flex items-center justify-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"-ml-0.5 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Yeni Danışman"]})]})})]}),v&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:w}),(0,r.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4 p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Yeni Danışman Ekle"}),(0,r.jsx)("button",{onClick:w,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{htmlFor:"name",className:"text-gray-700 dark:text-gray-300",children:"Ad Soyad"}),(0,r.jsx)(l.p,{id:"name",value:j.name,onChange:e=>N({...j,name:e.target.value}),className:"mt-1 bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-100 rounded-lg focus:ring-accent-500 focus:border-accent-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"E-posta"}),(0,r.jsx)(l.p,{id:"email",type:"email",value:j.email,onChange:e=>N({...j,email:e.target.value}),className:"mt-1 bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-100 rounded-lg focus:ring-accent-500 focus:border-accent-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.J,{htmlFor:"phone",className:"text-gray-700 dark:text-gray-300",children:"Telefon"}),(0,r.jsx)(l.p,{id:"phone",value:j.phone,onChange:e=>N({...j,phone:e.target.value}),className:"mt-1 bg-white/70 dark:bg-gray-700/70 backdrop-blur-sm border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-100 rounded-lg focus:ring-accent-500 focus:border-accent-500"})]})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-end",children:(0,r.jsx)(d.$,{onClick:A,className:"bg-gradient-to-r from-accent-500 to-accent-600 hover:from-accent-600 hover:to-accent-700 text-white rounded-lg",disabled:p,children:p?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 border-2 border-t-transparent border-white rounded-full animate-spin"}),"Ekleniyor..."]}):"Ekle"})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)(n.P.div,{variants:x,className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-xl p-6 border border-gray-100/60 dark:border-gray-700/30 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Danışman"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-1",children:b.length})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-accent-600 dark:text-accent-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})}),(0,r.jsx)(n.P.div,{variants:x,className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-xl p-6 border border-gray-100/60 dark:border-gray-700/30 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam \xd6ğrenci"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-1",children:b.reduce((e,t)=>e+(t.studentCount||0),0)})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-success-100 dark:bg-success-900/30 flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-success-600 dark:text-success-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]})}),(0,r.jsx)(n.P.div,{variants:x,className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-xl p-6 border border-gray-100/60 dark:border-gray-700/30 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Ortalama Aktivite"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-1",children:b.length>0?Math.round(b.reduce((e,t)=>e+(parseInt(t.activityRate)||0),0)/b.length)+"%":"0%"})]}),(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600 dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Danışman ara...",value:t,onChange:e=>a(e.target.value),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-accent-500 block w-full sm:w-64 text-gray-800 dark:text-gray-200 rounded-lg"})]}),(0,r.jsx)(n.P.div,{variants:x,className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-lg shadow-sm border border-gray-100/60 dark:border-gray-700/30 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{className:"text-gray-700 dark:text-gray-300",children:"Ad Soyad"}),(0,r.jsx)(c.nd,{className:"text-gray-700 dark:text-gray-300",children:"E-posta"}),(0,r.jsx)(c.nd,{className:"text-gray-700 dark:text-gray-300",children:"Telefon"}),(0,r.jsx)(c.nd,{className:"text-gray-700 dark:text-gray-300",children:"\xd6ğrenci Sayısı"}),(0,r.jsx)(c.nd,{className:"text-gray-700 dark:text-gray-300",children:"Aktivite Oranı"}),(0,r.jsx)(c.nd,{className:"text-right text-gray-700 dark:text-gray-300",children:"İşlemler"})]})}),(0,r.jsx)(c.BF,{children:h?(0,r.jsx)(c.Hj,{children:(0,r.jsx)(c.nA,{colSpan:6,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Y\xfckleniyor..."})}):0===L.length?(0,r.jsx)(c.Hj,{children:(0,r.jsx)(c.nA,{colSpan:6,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Sonu\xe7 bulunamadı"})}):L.map(e=>{var t;return(0,r.jsxs)(c.Hj,{className:"group hover:bg-gray-50/80 dark:hover:bg-gray-700/40 transition-colors",children:[(0,r.jsx)(c.nA,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"relative group-hover:scale-105 transition-transform",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-accent-400 to-success-400 rounded-full blur-[1px]"}),(0,r.jsx)("div",{className:"relative h-10 w-10 rounded-full flex items-center justify-center bg-gradient-to-br from-accent-50 to-success-50 dark:from-accent-900 dark:to-success-900 border-2 border-white dark:border-gray-800 font-medium text-gray-800 dark:text-gray-200",children:(null==(t=e.name)?void 0:t.charAt(0))||"?"})]}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors",children:e.name})})]})}),(0,r.jsx)(c.nA,{className:"text-gray-600 dark:text-gray-400",children:(0,r.jsx)("a",{href:"mailto:".concat(e.email),className:"hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:e.email})}),(0,r.jsx)(c.nA,{className:"text-gray-600 dark:text-gray-400",children:e.phone?(0,r.jsx)("a",{href:"tel:".concat(e.phone.replace(/[^0-9]/g,"")),className:"hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:e.phone}):(0,r.jsx)("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"Belirtilmemiş"})}),(0,r.jsx)(c.nA,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-accent-600 dark:bg-accent-500 h-2.5 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,e.studentCount/15*100),"%")}})}),(0,r.jsx)("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:e.studentCount})]})}),(0,r.jsx)(c.nA,{children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 dark:bg-success-900/40 text-success-800 dark:text-success-300",children:e.activityRate})}),(0,r.jsx)(c.nA,{className:"text-right",children:(0,r.jsx)("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)(d.$,{size:"sm",variant:"outline",className:"text-accent-600 dark:text-accent-400 hover:text-accent-800 dark:hover:text-accent-300 border-accent-200 dark:border-accent-800/30 hover:border-accent-300 dark:hover:border-accent-700/50 bg-accent-50/50 dark:bg-accent-900/20 hover:bg-accent-100/50 dark:hover:bg-accent-800/30",children:"D\xfczenle"})})})]},e.id)})})]})})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8407,5674,4264,9042,7244,5573,4820,4288,7706,7544,1142,2993,1561,6867,5495,7358],()=>t(3725)),_N_E=e.O()}]);