(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{255:(e,r,a)=>{"use strict";function t(e){let{moduleIds:r}=e;return null}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return t}}),a(5155),a(7650),a(5744),a(589)},2146:(e,r,a)=>{"use strict";function t(e){let{reason:r,children:a}=e;return a}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return t}}),a(5262)},2496:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>h});var t=a(5155),n=a(2115),s=a(2835),l=a(6874),i=a.n(l),o=a(5695),d=a(4820),c=a(9576),u=a(6359);let m=(0,a(5028).default)(()=>a.e(2366).then(a.bind(a,2366)),{loadableGenerated:{webpack:()=>[2366]},ssr:!1}),x={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},b={HAZIRLIK_ASAMASI:"Hazırlık Aşaması",CEVIRI_HAZIR:"\xc7eviri Hazır",UNIVERSITE_BASVURUSU:"\xdcniversite Başvurusu Yapıldı",KABUL_GELDI:"Kabul Geldi",VIZE_BASVURU:"Vize Başvuru Aşaması",SUREC_ASAMASI:"S\xfcre\xe7 Aşaması",VIZE_RANDEVU:"Vize Randevusu Atandı",VIZE_BEKLEME:"Vize Bekleme Aşaması",ALMANYA_ASAMASI:"Almanya Aşaması",BITEN:"S\xfcre\xe7 Tamamlandı"},g=["HAZIRLIK_ASAMASI","CEVIRI_HAZIR","UNIVERSITE_BASVURUSU","KABUL_GELDI","VIZE_BASVURU","SUREC_ASAMASI","VIZE_RANDEVU","VIZE_BEKLEME","ALMANYA_ASAMASI","BITEN"],p={"Hazırlık Aşaması":"HAZIRLIK_ASAMASI","\xc7eviri Hazır":"CEVIRI_HAZIR","\xdcniversite Başvurusu Yapılanlar":"UNIVERSITE_BASVURUSU","Kabul Gelenler":"KABUL_GELDI","Vize Başvuru Aşaması":"VIZE_BASVURU","S\xfcre\xe7 Aşaması":"SUREC_ASAMASI","Vize Randevusu Atananlar":"VIZE_RANDEVU","Vize Bekleme Aşaması":"VIZE_BEKLEME","Almanya Aşaması":"ALMANYA_ASAMASI",BİTEN:"BITEN",HAZIRLIK_ASAMASI:"HAZIRLIK_ASAMASI",CEVIRI_HAZIR:"CEVIRI_HAZIR",UNIVERSITE_BASVURUSU:"UNIVERSITE_BASVURUSU",KABUL_GELDI:"KABUL_GELDI",VIZE_BASVURU:"VIZE_BASVURU",SUREC_ASAMASI:"SUREC_ASAMASI",VIZE_RANDEVU:"VIZE_RANDEVU",VIZE_BEKLEME:"VIZE_BEKLEME",ALMANYA_ASAMASI:"ALMANYA_ASAMASI",BITEN:"BITEN","S\xfcre\xe7 Başlatıldı":"HAZIRLIK_ASAMASI",İşlemde:"SUREC_ASAMASI",biten:"BITEN"},f={HAZIRLIK_ASAMASI:{color:"text-blue-600 dark:text-blue-400",icon:"\uD83D\uDCDD",bgColor:"bg-blue-50/50 dark:bg-blue-900/20",borderColor:"border-blue-100/60 dark:border-blue-800/30",iconBgColor:"bg-blue-100 dark:bg-blue-800",label:"Hazırlık Aşaması"},CEVIRI_HAZIR:{color:"text-indigo-600 dark:text-indigo-400",icon:"\uD83D\uDCDA",bgColor:"bg-indigo-50/50 dark:bg-indigo-900/20",borderColor:"border-indigo-100/60 dark:border-indigo-800/30",iconBgColor:"bg-indigo-100 dark:bg-indigo-800",label:"\xc7eviri Hazır"},UNIVERSITE_BASVURUSU:{color:"text-primary-600 dark:text-primary-400",icon:"\uD83C\uDF93",bgColor:"bg-primary-50/50 dark:bg-primary-900/20",borderColor:"border-primary-100/60 dark:border-primary-800/30",iconBgColor:"bg-primary-100 dark:bg-primary-800",label:"\xdcniversite Başvurusu Yapıldı"},KABUL_GELDI:{color:"text-success-600 dark:text-success-400",icon:"✅",bgColor:"bg-success-50/50 dark:bg-success-900/20",borderColor:"border-success-100/60 dark:border-success-800/30",iconBgColor:"bg-success-100 dark:bg-success-800",label:"Kabul Geldi"},VIZE_BASVURU:{color:"text-accent-600 dark:text-accent-400",icon:"\uD83D\uDCCB",bgColor:"bg-accent-50/50 dark:bg-accent-900/20",borderColor:"border-accent-100/60 dark:border-accent-800/30",iconBgColor:"bg-accent-100 dark:bg-accent-800",label:"Vize Başvuru Aşaması"},SUREC_ASAMASI:{color:"text-secondary-600 dark:text-secondary-400",icon:"⚡",bgColor:"bg-secondary-50/50 dark:bg-secondary-900/20",borderColor:"border-secondary-100/60 dark:border-secondary-800/30",iconBgColor:"bg-secondary-100 dark:bg-secondary-800",label:"S\xfcre\xe7 Aşaması"},VIZE_RANDEVU:{color:"text-warning-600 dark:text-warning-400",icon:"\uD83D\uDCC5",bgColor:"bg-warning-50/50 dark:bg-warning-900/20",borderColor:"border-warning-100/60 dark:border-warning-800/30",iconBgColor:"bg-warning-100 dark:bg-warning-800",label:"Vize Randevusu Atandı"},VIZE_BEKLEME:{color:"text-purple-600 dark:text-purple-400",icon:"⏳",bgColor:"bg-purple-50/50 dark:bg-purple-900/20",borderColor:"border-purple-100/60 dark:border-purple-800/30",iconBgColor:"bg-purple-100 dark:bg-purple-800",label:"Vize Bekleme Aşaması"},ALMANYA_ASAMASI:{color:"text-pink-600 dark:text-pink-400",icon:"✈️",bgColor:"bg-pink-50/50 dark:bg-pink-900/20",borderColor:"border-pink-100/60 dark:border-pink-800/30",iconBgColor:"bg-pink-100 dark:bg-pink-800",label:"Almanya Aşaması"},BITEN:{color:"text-gray-600 dark:text-gray-400",icon:"\uD83C\uDFC1",bgColor:"bg-gray-50/50 dark:bg-gray-800/50",borderColor:"border-gray-100/60 dark:border-gray-700/30",iconBgColor:"bg-gray-100 dark:bg-gray-700",label:"S\xfcre\xe7 Tamamlandı"}};function h(){let{user:e,isAdvisor:r}=(0,c.A)(),a=(0,o.useRouter)(),{students:l,isLoading:h}=(0,u.Ow)(),[A,y]=(0,n.useState)(!0),[v,j]=(0,n.useState)(""),[S,I]=(0,n.useState)(null),[k,w]=(0,n.useState)({totalStudents:0,activeProcesses:0,pendingDocuments:0,upcomingAppointments:0});(0,n.useEffect)(()=>{e?r()||a.push("/dashboard"):a.push("/login")},[e,r,a]),(0,n.useEffect)(()=>{if(l&&l.length>0){let e=l.filter(e=>e.processStarted).length,r=l.filter(e=>(e.documents||[]).length<3).length;w({totalStudents:l.length,activeProcesses:e,pendingDocuments:r,upcomingAppointments:l.filter(e=>e.visa_appointment_date).length})}y(!1)},[l]);let E=e=>l?l.filter(r=>{var a,t;let n=(null==(a=r.name)?void 0:a.toLowerCase().includes(v.toLowerCase()))||(null==(t=r.email)?void 0:t.toLowerCase().includes(v.toLowerCase()))||r.university&&r.university.toLowerCase().includes(v.toLowerCase()),s=r.stage||"Hazırlık Aşaması",l=p[s]||"HAZIRLIK_ASAMASI";return console.log("\xd6ğrenci: ".concat(r.name,", Orijinal Stage: ").concat(s,", Normalize Edilmiş Stage: ").concat(l,", Hedef Stage: ").concat(e)),n&&l===e}):[];return!e||A||h?(0,t.jsx)(d.A,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):(0,t.jsx)(d.A,{children:(0,t.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-full mx-auto px-2 sm:px-3 md:px-4 overflow-hidden",children:[(0,t.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-[#002757] dark:text-blue-300",children:"\xd6ğrenciler"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-default mt-1",children:"T\xfcm \xf6ğrencilerinizi ve s\xfcre\xe7lerinizi buradan y\xf6netebilirsiniz."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,t.jsx)(s.P.div,{variants:x,initial:"hidden",animate:"visible",className:"card-blur p-6 rounded-xl",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-primary-600 dark:text-primary-400",children:"Toplam \xd6ğrenci"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary-700 dark:text-primary-300 mt-1",children:k.totalStudents})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-100/50 dark:bg-primary-900/30 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC65"})})]})}),(0,t.jsx)(s.P.div,{variants:x,initial:"hidden",animate:"visible",transition:{delay:.1},className:"card-blur p-6 rounded-xl",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-success-600 dark:text-success-400",children:"Aktif S\xfcre\xe7ler"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-success-700 dark:text-success-300 mt-1",children:k.activeProcesses})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-success-100/50 dark:bg-success-900/30 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCA"})})]})}),(0,t.jsx)(s.P.div,{variants:x,initial:"hidden",animate:"visible",transition:{delay:.2},className:"card-blur p-6 rounded-xl",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-warning-600 dark:text-warning-400",children:"Bekleyen Belgeler"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-warning-700 dark:text-warning-300 mt-1",children:k.pendingDocuments})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-warning-100/50 dark:bg-warning-900/30 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC4"})})]})}),(0,t.jsx)(s.P.div,{variants:x,initial:"hidden",animate:"visible",transition:{delay:.3},className:"card-blur p-6 rounded-xl",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-accent-600 dark:text-accent-400",children:"Yaklaşan Randevular"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-accent-700 dark:text-accent-300 mt-1",children:k.upcomingAppointments})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-accent-100/50 dark:bg-accent-900/30 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC5"})})]})})]}),(0,t.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,t.jsxs)("div",{className:"relative max-w-xl mx-auto sm:mx-0",children:[(0,t.jsx)("input",{type:"text",placeholder:"İsim, email veya \xfcniversite ile ara...",value:v,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 pl-12 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-transparent shadow-sm"}),(0,t.jsx)("div",{className:"absolute left-4 top-3.5 text-gray-400",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,t.jsx)("div",{className:"relative w-full overflow-x-auto pb-4 max-w-full",children:(0,t.jsx)("div",{className:"flex gap-3 sm:gap-4 md:gap-6 min-w-max px-1 sm:px-2 max-w-full",children:g.map(e=>{let r=E(e),a=f[e];return(0,t.jsxs)(s.P.div,{variants:x,initial:"hidden",animate:"visible",className:"".concat(a.bgColor," ").concat(a.borderColor," rounded-xl border shadow-sm w-[280px] sm:w-[320px] md:w-[360px] lg:w-[400px] flex-shrink-0"),children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 p-4 border-b border-gray-100/60 dark:border-gray-700/30 bg-inherit backdrop-blur-sm",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg ".concat(a.iconBgColor),children:a.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-[#002757] dark:text-blue-300",children:b[e]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.length," \xf6ğrenci"]})]})]})})}),(0,t.jsx)("div",{className:"p-3 sm:p-4 space-y-3 sm:space-y-4 max-h-[calc(100vh-400px)] sm:max-h-[calc(100vh-350px)] md:max-h-[calc(100vh-300px)] overflow-y-auto",children:0===r.length?(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"Bu aşamada \xf6ğrenci bulunmuyor"}):r.map(e=>{var r,a,n;return(0,t.jsxs)("div",{className:"card-blur rounded-lg p-3 sm:p-4 hover:shadow-md transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center text-white font-bold text-sm shadow-sm flex-shrink-0",children:(null==(r=e.name)?void 0:r.charAt(0))||(null==(a=e.email)?void 0:a.charAt(0))||"?"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.name}),(null!=(n=e.unreadMessages)?n:0)>0&&(0,t.jsx)("span",{className:"bg-danger-500 text-white text-xs px-2 py-0.5 rounded-full shadow-sm ml-2 flex-shrink-0",children:e.unreadMessages})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:e.email}),e.university&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:[e.university,e.program&&" - ".concat(e.program)]})]})]}),(0,t.jsxs)("div",{className:"mt-3 sm:mt-4 flex flex-wrap gap-1.5 sm:gap-2",children:[(0,t.jsx)("button",{onClick:()=>I(e),className:"flex-1 min-w-[70px] sm:min-w-[80px] px-2 sm:px-3 py-1.5 bg-gradient-to-r from-secondary-500 to-secondary-600 text-white text-xs rounded-lg hover:from-secondary-600 hover:to-secondary-700 text-center font-medium shadow-sm transition-all duration-200 hover:shadow-md",children:"Detaylar"}),(0,t.jsx)(i(),{href:"/advisor/messages?student=".concat(encodeURIComponent(e.email||"")),className:"flex-1 min-w-[70px] sm:min-w-[80px] px-2 sm:px-3 py-1.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white text-xs rounded-lg hover:from-primary-600 hover:to-primary-700 text-center font-medium shadow-sm transition-all duration-200 hover:shadow-md",children:"Mesaj"}),(0,t.jsx)(i(),{href:"/advisor/documents?student=".concat(encodeURIComponent(e.email||"")),className:"flex-1 min-w-[70px] sm:min-w-[80px] px-2 sm:px-3 py-1.5 bg-gradient-to-r from-accent-500 to-accent-600 text-white text-xs rounded-lg hover:from-accent-600 hover:to-accent-700 text-center font-medium shadow-sm transition-all duration-200 hover:shadow-md",children:"Belgeler"})]})]},e.email)})})]},e)})})}),(0,t.jsx)(m,{student:S,onClose:()=>I(null)})]})})}},4054:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return i}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class t{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new t}function l(e){return n?n.bind(e):t.bind(e)}function i(){return n?n.snapshot():function(e,...r){return e(...r)}}},5028:(e,r,a)=>{"use strict";a.d(r,{default:()=>n.a});var t=a(6645),n=a.n(t)},5744:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorage",{enumerable:!0,get:function(){return t.workAsyncStorageInstance}});let t=a(7828)},6645:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let t=a(8229)._(a(7357));function n(e,r){var a;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...r};return(0,t.default)({...s,modules:null==(a=s.loadableGenerated)?void 0:a.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},7357:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let t=a(5155),n=a(2115),s=a(2146);function l(e){return{default:e&&"default"in e?e.default:e}}a(255);let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let r={...i,...e},a=(0,n.lazy)(()=>r.loader().then(l)),o=r.loading;function d(e){let l=o?(0,t.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!r.ssr||!!r.loading,d=i?n.Suspense:n.Fragment,c=r.ssr?(0,t.jsxs)(t.Fragment,{children:[null,(0,t.jsx)(a,{...e})]}):(0,t.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(a,{...e})});return(0,t.jsx)(d,{...i?{fallback:l}:{},children:c})}return d.displayName="LoadableComponent",d}},7828:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorageInstance",{enumerable:!0,get:function(){return t}});let t=(0,a(4054).createAsyncLocalStorage)()},9067:(e,r,a)=>{Promise.resolve().then(a.bind(a,2496))}},e=>{var r=r=>e(e.s=r);e.O(0,[8407,5674,4264,9042,7244,1122,5573,4820,6359,4288,7706,7544,1142,2993,1561,6867,5495,7358],()=>r(9067)),_N_E=e.O()}]);