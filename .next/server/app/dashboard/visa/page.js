(()=>{var e={};e.id=7487,e.ids=[7487],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31634:(e,r,a)=>{Promise.resolve().then(a.bind(a,65031))},33873:e=>{"use strict";e.exports=require("path")},37370:(e,r,a)=>{Promise.resolve().then(a.bind(a,90848))},58996:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=a(65239),t=a(48088),l=a(88170),i=a.n(l),n=a(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(r,d);let o={children:["",{children:["dashboard",{children:["visa",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,65031)),"C:\\Users\\pc\\Downloads\\CG_Portal-main\\CG_Portal-main\\src\\app\\dashboard\\visa\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"C:\\Users\\pc\\Downloads\\CG_Portal-main\\CG_Portal-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\pc\\Downloads\\CG_Portal-main\\CG_Portal-main\\src\\app\\dashboard\\visa\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/dashboard/visa/page",pathname:"/dashboard/visa",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65031:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\pc\\\\Downloads\\\\CG_Portal-main\\\\CG_Portal-main\\\\src\\\\app\\\\dashboard\\\\visa\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\pc\\Downloads\\CG_Portal-main\\CG_Portal-main\\src\\app\\dashboard\\visa\\page.tsx","default")},70873:(e,r,a)=>{"use strict";a.d(r,{KZ:()=>n,Ow:()=>d,Q4:()=>o});var s=a(5077),t=a(18780);a(49463);var l=a(12135);let i=async(e,r)=>{try{let a={"Content-Type":"application/json"};r&&(a["x-user-email"]=r);let s=await fetch(e,{headers:a});if(!s.ok){let e=await s.json();throw Error(e.error||"Veri getirme hatası")}return s.json()}catch(e){throw l.vF.error("Fetcher hatası:",e),e}};function n(e=3e4){let{user:r}=(0,t.A)(),a=!!r?.email,{data:d,error:o,isLoading:c,isValidating:m,mutate:u}=(0,s.Ay)(a?"/api/messages/unread":null,e=>i(e,r?.email),{refreshInterval:e,revalidateOnFocus:!0,revalidateIfStale:!0,dedupingInterval:5e3,onError:e=>{l.vF.error("Okunmamış mesaj sayısı getirme hatası:",e)}});return{unreadCount:d?.unreadCount||0,isLoading:c,isError:o,isValidating:m,mutate:u}}function d(e=3e4){let{user:r}=(0,t.A)(),a=!!(r?.email&&r?.role==="advisor"),n="/api/advisor/students";console.log("useStudents hook debug:",{user:r?{email:r.email,role:r.role}:null,shouldFetch:a,endpoint:n});let{data:o,error:c,isLoading:m,isValidating:u,mutate:x}=(0,s.Ay)(a?n:null,e=>i(e,r?.email),{refreshInterval:0,revalidateOnFocus:!1,revalidateIfStale:!1,dedupingInterval:1e4,errorRetryCount:1,errorRetryInterval:5e3,onError:e=>{l.vF.error("\xd6ğrenci listesi getirme hatası:",e),console.error("useStudents hook error:",e)},onSuccess:e=>{console.log("useStudents hook success:",e)}}),p=o?.success?o.students:[];return console.log("useStudents hook result:",{data:o,students:p.length,isLoading:m,isError:c}),{students:p,isLoading:m,isError:c,isValidating:u,mutate:x}}function o(e,r=1e4){let{user:a}=(0,t.A)(),l=!!(a?.email&&a?.role==="advisor"&&e),{data:n,error:d,isLoading:c,isValidating:m,mutate:u}=(0,s.Ay)(l?`/api/advisor/students/${encodeURIComponent(e)}`:null,i,{refreshInterval:r,revalidateOnFocus:!0,revalidateIfStale:!0,dedupingInterval:2e3});return{student:n,isLoading:c,isError:d,isValidating:m,mutate:u}}},79551:e=>{"use strict";e.exports=require("url")},90848:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>m});var s=a(60687);a(43210);var t=a(51750),l=a(96042),i=a(85814),n=a.n(i),d=a(18780);let o=({children:e,panelName:r})=>{let{user:a}=(0,d.A)();return a?.processStarted?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"blur-md pointer-events-none",children:e}),(0,s.jsx)(t.P.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center bg-white/50 backdrop-blur-sm z-10 p-6",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto text-center bg-white p-8 rounded-lg shadow-lg",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDD12"}),(0,s.jsxs)("h2",{className:"text-2xl font-bold text-[#002757] mb-2",children:[r," Paneline Erişim Kısıtlı"]}),(0,s.jsx)("p",{className:"text-default mb-6",children:"Bu i\xe7eriği g\xf6r\xfcnt\xfcleyebilmek i\xe7in \xf6ncelikle Campus Global ile iletişime ge\xe7erek s\xfcrecinizi başlatmanız gerekmektedir."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(n(),{href:"/dashboard",className:"btn-secondary w-full block",children:"Genel Bakış'a D\xf6n"}),(0,s.jsx)("button",{className:"btn-primary w-full",onClick:()=>{window.open("mailto:info@campusglobal.com.tr?subject=S\xfcre\xe7 Başlatma Talebi","_blank")},children:"İletişime Ge\xe7"})]})]})})]})};var c=a(70873);function m(){let{user:e}=(0,d.A)(),{student:r,isLoading:a}=(0,c.Q4)(e?.email||"");return a?(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,s.jsxs)("div",{className:"relative w-16 h-16",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 rounded-full border-4 border-primary-200 opacity-40"}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 rounded-full border-4 border-t-primary-600 animate-spin"})]}),(0,s.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Y\xfckleniyor..."})]})}):(0,s.jsx)(l.A,{children:(0,s.jsx)(o,{panelName:"Vize Bilgileri",children:(0,s.jsxs)(t.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-[#002757]",children:"Vize Bilgileri"}),(0,s.jsx)("p",{className:"text-default mt-2",children:"Vize başvurunuzun detayları ve durumunu buradan takip edebilirsiniz."})]}),(0,s.jsxs)("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-6 rounded-lg shadow-sm border border-gray-100/60 dark:border-gray-700/30 mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-[#002757] mb-4",children:"Randevu Bilgileri"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100/70 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-default",children:"Başvuru Tarihi"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-[#002757]",children:r?.visa_application_date||"Hen\xfcz belirlenmedi"})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100/70 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-xl",children:"⏰"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-default",children:"Randevu Tarihi"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-[#002757]",children:r?.visa_appointment_date||"Hen\xfcz belirlenmedi"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100/70 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-xl",children:"\uD83D\uDCCD"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-default",children:"Konsolosluk"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-[#002757]",children:r?.consulate||"Hen\xfcz belirlenmedi"})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100/70 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-xl",children:"\uD83D\uDD04"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-default",children:"Son G\xfcncelleme"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-[#002757]",children:r?.updatedAt?new Date(r.updatedAt).toLocaleDateString("tr-TR"):"Hen\xfcz g\xfcncelleme yok"})]})]})]})]}),!r?.visa_appointment_date&&(0,s.jsx)("div",{className:"mt-6 p-4 bg-yellow-50/70 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-800/30 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"text-yellow-500 mr-3",children:"⚠️"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Hen\xfcz vize randevunuz bulunmuyor. Randevu tarihi belirlendiğinde burada g\xf6r\xfcnt\xfclenecektir."})]})})]}),(0,s.jsxs)("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-6 rounded-lg shadow-sm border border-gray-100/60 dark:border-gray-700/30 mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-[#002757] mb-4",children:"Pasaport Bilgileri"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 bg-gray-50/80 dark:bg-gray-700/30 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pasaport Numarası"}),(0,s.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:r?.passport_number||"Hen\xfcz girilmedi"})]}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50/80 dark:bg-gray-700/30 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pasaport Tipi"}),(0,s.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:r?.passport_type||"Hen\xfcz girilmedi"})]}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50/80 dark:bg-gray-700/30 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Veren Makam"}),(0,s.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:r?.issuing_authority||"Hen\xfcz girilmedi"})]}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50/80 dark:bg-gray-700/30 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"PNR Numarası"}),(0,s.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:r?.pnr_number||"Hen\xfcz girilmedi"})]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50/70 dark:bg-blue-900/20 backdrop-blur-sm p-6 rounded-lg border border-blue-200/60 dark:border-blue-700/30",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-[#002757] mb-2",children:"Vize S\xfcreci Bilgilendirme"}),(0,s.jsx)("p",{className:"text-default mb-4",children:"Vize başvurunuzun sorunsuz ilerlemesi i\xe7in gerekli t\xfcm belgeleri eksiksiz ve doğru bir şekilde hazırlamanız \xf6nemlidir. Eksik veya hatalı belgeler başvurunuzun reddedilmesine sebep olabilir."}),(0,s.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,s.jsx)(n(),{href:"/dashboard/messages",className:"btn-primary",children:"Danışmanla İletişime Ge\xe7"})})]})]})})})}}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[4447,7747,711,2755,5077,8023,6201],()=>a(58996));module.exports=s})();