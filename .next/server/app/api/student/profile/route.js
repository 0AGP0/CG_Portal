"use strict";(()=>{var e={};e.id=8853,e.ids=[8853],e.modules={3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57348:(e,t,a)=>{a.a(e,async(e,i)=>{try{a.r(t),a.d(t,{patchFetch:()=>u,routeModule:()=>d,serverHooks:()=>p,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>m});var _=a(96559),r=a(48088),s=a(37719),o=a(85831),n=e([o]);o=(n.then?(await n)():n)[0];let d=new _.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/student/profile/route",pathname:"/api/student/profile",filename:"route",bundlePath:"app/api/student/profile/route"},resolvedPagePath:"C:\\Users\\pc\\Downloads\\CG_Portal-main\\CG_Portal-main\\src\\app\\api\\student\\profile\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:l,workUnitAsyncStorage:m,serverHooks:p}=d;function u(){return(0,s.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:m})}i()}catch(e){i(e)}})},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{e.exports=import("pg")},85831:(e,t,a)=>{a.a(e,async(e,i)=>{try{a.r(t),a.d(t,{GET:()=>n});var _=a(32190),r=a(5069),s=a(86481),o=e([r]);async function n(e){try{let t=e.headers.get("x-user-email");if(!t)return s.vF.error("Kullanıcı email bilgisi bulunamadı"),_.NextResponse.json({success:!1,error:"Kullanıcı bilgisi bulunamadı"},{status:401});s.vF.info("\xd6ğrenci profil bilgileri getiriliyor:",{userEmail:t});let a=await (0,r.NK)(t);if(!a)return s.vF.error("\xd6ğrenci bulunamadı:",t),_.NextResponse.json({success:!1,error:"\xd6ğrenci kaydı bulunamadı"},{status:404});return a.advisor_email&&await (0,r._Y)(a.advisor_email),"BİTEN"===a.stage||"İşlemde"===a.stage||a.stage,_.NextResponse.json({success:!0,student:{_id:a.id,_model:"res.partner",_action:"Send Webhook Notification(#1962)",id:a.id,name:a.name,email:a.email,phone:a.phone||!1,contact_address:a.contact_address||"\n\n  \n",x_studio_almanca_sertifikas:a.language_certificate||!1,x_studio_almanca_seviyesi_1:a.language_level||!1,x_studio_almanya_bulunma:a.has_been_to_germany||!1,x_studio_anne_ad:a.mother_name||!1,x_studio_anne_doum_tarihi:a.mother_birth_date||!1,x_studio_anne_doum_yeri:a.mother_birth_place||!1,x_studio_anne_ikamet_sehrilke:a.mother_residence||!1,x_studio_anne_soyad:a.mother_surname||!1,x_studio_anne_telefon:a.mother_phone||!1,x_studio_baba_ad:a.father_name||!1,x_studio_baba_doum_tarihi:a.father_birth_date||!1,x_studio_baba_doum_yeri:a.father_birth_place||!1,x_studio_baba_ikamet_ehrilkesi:a.father_residence||!1,x_studio_baba_soyad:a.father_surname||!1,x_studio_baba_telefon:a.father_phone||!1,x_studio_bilgiler_1:a.contact_address||!1,x_studio_de_blm_tercihi:a.german_department_preference||!1,x_studio_dil_renim_durumu:a.language_learning_status||!1,x_studio_dil_sertifikas:a.language_certificate||!1,x_studio_doum_tarihi:a.birth_date||!1,x_studio_doum_yeri:a.birth_place||!1,x_studio_finansal_kant:a.financial_proof||!1,x_studio_geerlilik_tarihi:a.passport_expiry_date||!1,x_studio_konsolosluk_1:a.visa_consulate||"İstanbul",x_studio_lise_ad:a.high_school_name||!1,x_studio_lise_balang_tarihi_1:a.high_school_start_date||!1,x_studio_lise_biti_tarihi:a.high_school_graduation_date||!1,x_studio_lise_ehir:a.high_school_city||!1,x_studio_lise_tr:a.high_school_type||!1,x_studio_maddi_kant_durumu:a.financial_proof_status||!1,x_studio_mail_adresi:a.email||!1,x_studio_medeni_durum_1:a.marital_status||!1,x_studio_mezuniyet_durumu:a.graduation_status||!1,x_studio_mezuniyet_yl:a.graduation_year||!1,x_studio_niversite_ad:a.university_name||!1,x_studio_niversite_balang_tarihi:a.university_start_date||!1,x_studio_niversite_biti_tarihi:a.university_end_date||!1,x_studio_niversite_blm_ad:a.university_department||!1,x_studio_niversite_tercihleri:a.university_preferences||!1,x_studio_pasaport_numaras:a.passport_number||!1,x_studio_pasaport_tr:a.passport_type||"Umuma Mahsus (Bordo) Pasaport",x_studio_pnr_numaras:a.pnr_number||!1,x_studio_selection_field_8en_1iqnrqang:a.language_level||!1,x_studio_sym_snav_giri:a.exam_entry||!1,x_studio_sym_yerlestirme_sonuc_tarihi:a.exam_result_date||!1,x_studio_veren_makam:a.issuing_authority||!1,x_studio_verili_tarihi:a.passport_issue_date||!1,x_studio_vize_bavuru_tarihi_1:a.visa_application_date||!1,x_studio_vize_randevu_belgesi:a.visa_document||!1,x_studio_vize_randevu_tarihi:a.visa_appointment_date||!1,x_studio_ya:a.age||0,stage:a.stage||"new",process_started:a.process_started||!1,advisor_email:a.advisor_email,advisor_name:a.advisor_name,created_at:a.created_at,updated_at:a.updated_at,documents:a.documents||[]}})}catch(e){return s.vF.error("\xd6ğrenci profil getirme hatası:",e),_.NextResponse.json({success:!1,error:"\xd6ğrenci bilgileri alınamadı"},{status:500})}}r=(o.then?(await o)():o)[0],i()}catch(e){i(e)}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[4447,580,8033],()=>a(57348));module.exports=i})();